# Design SOP Main Workflow Prompt

Based on the workflow analysis, create a detailed Standard Operating Procedure (SOP) for the agent's main workflow.

## SOP Document Structure

# [Agent Name] Standard Operating Procedure

## Overview
Brief description of this SOP's purpose and scope.

## Main Workflow Procedure

### Step 1: Initial Input Reception
**Purpose**: [Why this step exists]
**Inputs**: [What comes in]
**Actions**:
1. [Specific action 1]
2. [Specific action 2]
**Outputs**: [What is produced]
**Duration**: [Expected time]
**Error Handling**: [What to do if this fails]

### Step 2: Input Validation and Classification
**Purpose**: [Why this step exists]
**Inputs**: [What comes from Step 1]
**Actions**:
1. Validate [specific checks]
2. Classify input as [categories]
3. Route to appropriate handler
**Decision Point**: 
- If [condition A] → Go to Step 3A
- If [condition B] → Go to Step 3B
- If invalid → Go to Error Handler
**Outputs**: [Validated and classified input]
**Duration**: [Expected time]

### Step 3A: [Process Type A]
[Continue with detailed steps...]

### Step 3B: [Process Type B]
[Continue with detailed steps...]

## Standard Operating Guidelines

### Response Time Requirements
- Immediate response: [List scenarios]
- Within 1 minute: [List scenarios]
- Within 5 minutes: [List scenarios]

### Quality Standards
- Accuracy requirements
- Completeness criteria
- Formatting standards

### Escalation Procedures
When to escalate to human operator:
1. [Condition 1]
2. [Condition 2]

## Integration Procedures

### External System Calls
For each integration:
- **System**: [Name]
- **When to call**: [Conditions]
- **How to call**: [Procedure]
- **Expected response**: [Format and timing]
- **Failure handling**: [Fallback procedure]

## Performance Optimization

### Caching Strategy
- What to cache
- Cache duration
- Cache invalidation rules

### Parallel Processing
- Steps that can run simultaneously
- Resource allocation guidelines

## Compliance and Audit

### Logging Requirements
- What to log
- Log format
- Retention period

### Audit Trail
- Key decision points to track
- User action logging
- System action logging

Create a comprehensive, actionable SOP that can be directly implemented by developers.